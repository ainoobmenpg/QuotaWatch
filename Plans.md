# Plans.md - CLAUDE.md 分割

> **作成日**: 2026-02-16
> **目的**: CLAUDE.md (351行) を適切なサイズ (~80行) に分割

---

## 📋 タスク一覧

### Phase 1: Gitワークフロー分離 [cc:TODO]

#### [ ] T1-1: git-workflow.md 作成
**目的**: Gitワークフロー全体を分離ファイルに移動

- **作成先**: `.claude/rules/git-workflow.md`
- **移動内容**:
  - 「なぜPRが必要か」
  - コミットメッセージ規約
  - 作業開始時/完了時の手順
  - PRテンプレート
  - Squash and Merge説明
  - レビューチェックリスト
  - 違反時の修正手順
- **受入条件**:
  - [ ] ファイルが作成される
  - [ ] 内容が正しく移動される

#### [ ] T1-2: CLAUDE.md から該当セクション削除
**目的**: 重複を排除

- **作業内容**:
  1. 「Gitワークフロー」セクション全体を削除
  2. 短い参照リンクを追加: `> Gitワークフロー: @.claude/rules/git-workflow.md を参照`
- **受入条件**:
  - [ ] Gitワークフローセクションが削除される
  - [ ] 参照リンクが追加される

---

### Phase 2: アーキテクチャ参照の簡素化 [cc:TODO]

#### [ ] T2-1: quick-reference.md 作成（オプション）
**目的**: アーキテクチャ・データモデルの要約を分離

- **作成先**: `docs/quick-reference.md`
- **移動内容**:
  - 主要コンポーネント
  - データフロー
  - 設計原則
  - UsageSnapshot構造
  - バックオフ仕様
  - 通知仕様
- **受入条件**:
  - [ ] ファイルが作成される
  - [ ] CLAUDE.mdから参照リンクが追加される

---

### Phase 3: 確認

#### [ ] T3-1: 行数確認
**目的**: 目標行数達成を確認

- **作業内容**:
  1. `wc -l CLAUDE.md` で行数確認
  2. 100行以下であることを確認
- **受入条件**:
  - [ ] CLAUDE.mdが100行以下

#### [ ] T3-2: 動作確認
**目的**: Claude Codeが正しく参照できるか確認

- **確認事項**:
  - [ ] `@.claude/rules/git-workflow.md` で読み込める
  - [ ] 情報が欠損していない

---

## 📊 優先度マトリックス

| タスク | 優先度 | 影響度 | 工数 |
|--------|--------|--------|------|
| T1-1 git-workflow.md作成 | **Required** | 高 | 小 |
| T1-2 CLAUDE.md削除 | **Required** | 高 | 小 |
| T2-1 quick-reference.md作成 | Optional | 中 | 小 |
| T3-1 行数確認 | **Required** | 高 | 小 |
| T3-2 動作確認 | Recommended | 中 | 小 |

---

## 📝 メモ

- 個人用プロジェクトのため、最小限の変更で済ませる
- T2-1 はオプション（まずは Gitワークフロー分離で様子見）
