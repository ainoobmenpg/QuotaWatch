# QuotaWatch 手動テストチェックリスト

> **Issue #29 Phase 10: MVP受け入れ基準の確認**

自動テストでカバーできない項目についての検証手順です。

---

## 前提条件

- macOS 26.2 (25C56) 以降
- Xcodeでビルドしたアプリ
- Z.aiの有効なAPIキー

---

## 1. アプリのインストールと起動

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 1.1 | Xcodeで⌘Rを押してアプリを起動 | アプリが正常に起動する | ☐ |
| 1.2 | メニューバーを確認 | QuotaWatchのアイコンが表示される | ☐ |
| 1.3 | アイコンをクリック | ポップアップメニューが表示される | ☐ |

**メモ**:
```
結果: ___________
```

---

## 2. APIキー設定

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 2.1 | APIキーが未設定の状態で起動 | 「APIキーを設定」シートが表示される | ☐ |
| 2.2 | 無効なAPIキーを入力して保存 | エラーメッセージが表示される | ☐ |
| 2.3 | 有効なAPIキーを入力して保存 | シートが閉じる | ☐ |
| 2.4 | メニューバー表示を確認 | クォータ情報が表示される | ☐ |
| 2.5 | アプリを再起動 | APIキーが保持されている | ☐ |
| 2.6 | 設定画面で「APIキーを変更」をクリック | APIキー変更シートが表示される | ☐ |
| 2.7 | 新しいAPIキーを入力して保存 | 新しいキーでフェッチが実行される | ☐ |

**メモ**:
```
結果: ___________
```

---

## 3. クォータ表示

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 3.1 | メニューバーを確認 | 5時間枠の使用状況が表示される | ☐ |
| 3.2 | メニューを開いて確認 | 月次枠の使用状況が表示される | ☐ |
| 3.3 | リセット時間を確認 | リセットまでの時間が表示される | ☐ |
| 3.4 | プログレスバーを確認 | 使用率に応じた色（緑/黄/赤）で表示される | ☐ |
| 3.5 | アクティビティモニダーで確認 | CPU使用率が適切（アイドル時は低い） | ☐ |

**色の基準**:
- 緑色: 0-69%
- 黄色: 70-89%
- 赤色: 90-100%

**メモ**:
```
結果: ___________
```

---

## 4. 通知

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 4.1 | メニューから「通知テスト」をクリック | 通知が表示される | ☐ |
| 4.2 | 設定画面で通知OFFにする | 通知が無効になる | ☐ |
| 4.3 | 通知テストをクリック（OFF時） | 通知が表示されない | ☐ |
| 4.4 | 通知をONに戻す | 通知が有効になる | ☐ |
| 4.5 | システム環境設定で通知権限を確認 | QuotaWatchの通知設定がある | ☐ |

**メモ**:
```
結果: ___________
```

---

## 5. 更新間隔

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 5.1 | 設定画面で更新間隔を変更 | 設定が保存される | ☐ |
| 5.2 | メニューを確認 | 「次回更新: X分後」が更新される | ☐ |
| 5.3 | 指定した時間経過後 | フェッチが実行される | ☐ |
| 5.4 | アプリを再起動 | 更新間隔が保持されている | ☐ |
| 5.5 | 各間隔で動作確認 | 1分/5分/15分/30分/60分すべて動作 | ☐ |

**メモ**:
```
結果: ___________
```

---

## 6. ログイン時起動

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 6.1 | 設定画面でトグルをON | システム環境設定のログイン項目に登録される | ☐ |
| 6.2 | 設定画面でトグルをOFF | システム環境設定のログイン項目から削除される | ☐ |
| 6.3 | ONの状態でアプリを終了 | システム環境設定に登録されたまま | ☐ |
| 6.4 | OSを再起動（またはログアウト/イン） | アプリが自動起動する | ☐ |

**メモ**:
```
結果: ___________
```

---

## 7. エッジケース

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 7.1 | ネットワークを切断して更新 | エラー表示がされる | ☐ |
| 7.2 | ネットワークを復帰 | 次回更新で正常にフェッチされる | ☐ |
| 7.3 | 強制終了（⌘⌫Q）後に再起動 | キャッシュされたデータが表示される | ☐ |
| 7.4 | Macをスリープにして復帰 | 即時フェッチが実行される | ☐ |
| 7.5 | 長時間スリープ後 | リセット通知が正しく動作する | ☐ |

**メモ**:
```
結果: ___________
```

---

## 8. ビルドと配布

| 項目 | 手順 | 期待結果 | 結果 |
|------|------|----------|------|
| 8.1 | Archiveビルドを作成 | 正常にビルドが完了する | ☐ |
| 8.2 | アプリを別の場所にコピー | アプリが単独で動作する | ☐ |
| 8.3 | コード署名を確認 | 正しく署名されている | ☐ |

**メモ**:
```
結果: ___________
```

---

## テスト結果サマリー

| カテゴリ | 項目数 | パス | 失敗 |
|---------|--------|------|------|
| アプリ起動 | 3 | | |
| APIキー設定 | 7 | | |
| クォータ表示 | 5 | | |
| 通知 | 5 | | |
| 更新間隔 | 5 | | |
| ログイン時起動 | 4 | | |
| エッジケース | 5 | | |
| ビルド配布 | 3 | | |
| **合計** | **37** | | |

---

## バグ報告

問題が見つかった場合は以下の情報を記録してください：

- バグID: #___
- カテゴリ:
- 再現手順:
```
1.
2.
3.
```
- 期待結果:
- 実際の結果:
- スクリーンショット:

---

## 検証完了サイン

| 役割 | 氏名 | 日付 | サイン |
|------|------|------|--------|
| 検証実施者 | | | |
| レビュアー | | | |
| 承認者 | | | |

---

**ドキュメントバージョン**: 1.0
**作成日**: 2026-01-19
**最終更新日**: 2026-01-19
